!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){(function(e){var t=n(2),i=n(5),o=n(6),r=n(7),a=n(8),c=n(3),s={J_loading:e("#padt_loading")||null,trackPrefix:window.CONF.trackPrefix,subTitleArray:window.CONF.subTitleConf.content,cookiePrefix:window.CONF.cookiePrefix||""};s.init=function(){s.checkEnv(),s.getModuleID(),s.initPopup(),s.initGame(),s.loadingGame(),s.initShare()},s.loadingGame=function(){var n=t.queryString("open"),i="undefined"!=typeof XView,o=r.get(this.cookiePrefix+"gomall"),a=t.queryString("xview");"true"==o?(s.showPopupBackFromMall(),r.add(this.cookiePrefix+"gomall","false",0,void 0,"m.jd.com")):n&&"false"!=r.get(this.cookiePrefix+"Gamec")?(s.lottery(s.getModuleIdxAndInfoAfterLogin().moduleIdx),r.add(this.cookiePrefix+"Gamec","false",0,void 0,"m.jd.com")):i?a?s.startGameCheck():window.XViewShowCallback=s.startGameCheck:e(window).on("load",s.startGameCheck)},s.initPopup=function(){game.popup.preinit({handlers:{share:function(e){s.callShare(e)},coupon:function(e){s.toCoupon(e)},login:function(e){s.toLogin(e)},home:function(e){s.toHome(e)},go:function(e){s.toMall(e)},jump:function(e){s.jump(e)},sku:function(e){s.sku(e)},shop:function(e){s.shop(e)},replay:function(e){s.replayGame(e)},copyShareOpen:function(e){s.openWXHandle()},onHideCopyShare:function(e){s.firstCharToUpperCaseAndReportData("","CloseSharePage")},onSlicePrize:function(e){s.reported||(s.firstCharToUpperCaseAndReportData("","SlideProduct"),s.reported=!0)}},cookieObj:{get:r.get,add:r.add,del:r.del},shareMethods:{callShare:i&&i.callSharePane,initShare:s.initShare}}).init(window.CONF.popup)},s.initGame=function(){game.init({onTapStartBtn:function(){s.firstCharToUpperCaseAndReportData("StartGame","")},onPrepareEnd:function(){s.firstCharToUpperCaseAndReportData("StartGameAuto","")},onDraw:function(e){s.gameResultInfo=e;var t=e.moduleIdx||0;s.lottery(t)},onHit:function(e){}})},s.getModuleID=function(){var e,n,i=t.queryString("id")||"",o=window.CONF.gameConf&&window.CONF.gameConf[i];if(s.id=i,o){if(n=o.moduleId&&"[object Array]"===Object.prototype.toString.call(o.moduleId)&&o.moduleId.length>0?o.moduleId:window.CONF.lotteryConf.moduleId||[],o.time){var r=+new Date(o.time);e=r?+new Date(o.time):void 0}else e=void 0;s.gameConf={time:e,moduleId:n,len:n.length}}else n=window.CONF.lotteryConf.moduleId||[],s.gameConf={moduleId:n,len:n.length}},s.startGameCheck=function(){t.reportPV(),s.showLoading(!0),s.startGame()},s.startGame=function(){s.showLoading(!1),game.start()},s.showLoading=function(e){try{s.J_loading&&(e?this.J_loading.show():this.J_loading.hide())}catch(e){}},s.ajax=function(t,n){n&&s.showLoading(!0),e.ajax({url:t.url,dataType:"jsonp",type:"GET",timeout:window.CONF.timeout||5e3,data:t.data,success:function(e){s.firstCharToUpperCaseAndReportData("","InterfaceSucceed",[e.code||"",e.subCode||"",e.couponValue||""].join("_")),s.showLoading(!1);var n;n=null===e.code||void 0===e.code||""===e.code?1:"string"==typeof e.code?+e.code:e.code,0==n?t.success&&"function"==typeof t.success&&t.success(e):3==n?s.hackLoginStatus():t.subCodeError&&"function"==typeof t.subCodeError&&t.subCodeError(e)},error:function(e,n,i){s.showLoading(!1),t.subCodeError&&"function"==typeof t.subCodeError&&t.subCodeError()}})},s.hackLoginStatus=function(e){if(s.showLoading(!1),s.firstCharToUpperCaseAndReportData("","NotLogin"),e)s.showLogin();else try{var t=r.get("pwdt_id");t&&"******"!=t?s.toLogin():s.showLogin()}catch(e){s.showLogin()}},s.getModuleIdxAndInfoAfterLogin=function(){return{moduleIdx:game.popup.getModuleIdx(),resultInfo:game.popup.getGameRet()}},s.lottery=function(e,t){s.firstCharToUpperCaseAndReportData("","LotteryInterface");var n,i=window.CONF.lotteryConf;t?n=s.retryModuleId:(!e||e<=0?e=1:e>s.gameConf.len&&(e=s.gameConf.len),n=s.gameConf.moduleId[e-1]||"",s.retryModuleId=n||""),s.ajax({url:"//api.m.jd.com/client.action",data:{functionId:window.CONF.functionId||"babelActivityLuckDraw",client:"wh5",clientVersion:"1.0.0",body:JSON.stringify({activityId:i.activityId,pageId:i.pageId,moduleId:n})},success:function(e){var t,n;t=null===e.subCode||void 0===e.subCode||""===e.subCode?1:e.subCode,0==t?(n=s.processCoupon(e),n?0==n.name||1==n.name?s.showCoupon(n):3==n.name?s.showEntity(n):2==n.name&&s.showUnstore(n):s.showFail("",!0)):s.showFail(t,!0)},subCodeError:function(e){e?s.showFail(e.code,!1):s.retry()}},!0)},s.processCoupon=function(t){var n=[],i=t.couponName||"",o=i.split("_"),r=o[0],a=o[1]||"",c=t.lotteryContent+"",s=t.couponContent||"",l=t.couponValue||"",u=[],p=0,f=0,d="#";if(void 0===r||""===r||null===r)return!1;if(0==r){if(!c)return!1;if(e.each(s.split(d),function(e,t){u.push(t||"")}),c.indexOf(d)==-1)return!1;c[0]==d&&(c=c.substring(1));var h=c.split(d);if(h>3&&(h=h.slice(0,3)),e.each(h,function(e,t){var i=t+"";if(i.indexOf("_")!=-1){var o=i.split("_");if(3==o.length){var r=o,c=r[0],s=r[1];n.push({val:c,cond:s,cate:u[e]||"",tips:r[2],cls:a}),+c!=+c?c=0:"string"==typeof c&&(c=+c),f+=c}else p++}else p++}),p==h.length)return!1}else if(1==r){if(!c)return!1;if(c.indexOf("_")==-1)return!1;var m=c.split("_");if(3!=m.length)return!1;var g=m,w=g[0],v=g[1];n.push({val:w,cond:v,cate:s||"",tips:g[2],cls:a}),+w!=+w?w=0:"string"==typeof w&&(w=+w),f+=w}else if(2==r);else if(3!=r)return!1;return 0==r||1==r?{name:r,pack:n,total:f}:2==r?{name:r,val:l,tips:c,cate:s,cls:a}:3==r&&{name:r,val:l,tips:c,cate:s,cls:a}},s.checkEnv=function(){var e=window.navigator.userAgent.toLowerCase(),t=/MicroMessenger/i.test(e),n=e.indexOf("jdapp")!=-1,i=e.indexOf("iphone")!=-1,o=(e.indexOf("android")!=-1,e.indexOf("MQQBrowser")!=-1),r=e.split(";");n?this.env="jdApp":t?this.env="wxApp":this.env="browser",i?this.OS="iphone":this.OS="android",this.inQQ=o;var a=function(){return n&&r[2]?r[2].replace(/\./g,""):""}();this.jdApp520=function(){return n&&a>=520}(),this.jdApp560=function(){return n&&a>=560}(),this.jdAppClientVersion=function(){return n&&a>=(window.CONF.clientVersion||560)}()},s.getShareConf=function(t,n){function i(e){var t;return e.replace(/{\w*}/i,function(e){t=e.substring(1,e.length-1)}),e.replace(/{\w*}/gi,s.gameResultInfo&&s.gameResultInfo[t]||s.getModuleIdxAndInfoAfterLogin().resultInfo||"")}var o=window.CONF.shareConf;if("jdApp"==s.env&&s.gameResultInfo){var r=Object.prototype.toString;"[object Object]"==r.call(o.random.app)?n&&"[object Array]"==r.call(o.random.app[n])?randomArr=o.random.app[n]:randomArr=o.random.wx:"[object Array]"==r.call(o.random.app)?randomArr=o.random.app:randomArr=o.random.wx}else randomArr=o.random.wx;var a=Math.floor(Math.random()*randomArr.length),c=(o.url||window.location.href).split("?")[0]+(s.id?"?id="+s.id:""),l=i(randomArr[a].title||""),u=i(randomArr[a].content||""),p=i(randomArr[a].timeline_title||""),f=o.longImg&&s.jdAppClientVersion?"Wxfriends,Wxmoments,QQfriends,QQzone,QRCode":"Wxfriends,Wxmoments,QQfriends,QQzone",d={title:l,img:(o.img||"").replace(/^(?=\/\/)/,location.protocol),url:o.url||c,channel:f,content:u,desc:u,timeline_title:p};return o.longImg&&s.jdAppClientVersion&&(d.qrparam={qr_direct:o.longImg||""}),t&&e.extend(d,{channel:"QRCode"}),d},s.getSubTitle=function(e,t){function n(e){var t;return e.replace(/{\w*}/i,function(e){t=e.substring(1,e.length-1)}),e.replace(/{\w*}/gi,s.gameResultInfo&&s.gameResultInfo[t]||"")}if(void 0==e||!this.subTitleArray.length)return window.CONF.subTitleConf.default||"";var i=e+"",o="";return t?(o="1"==i?this.subTitleArray[3]:"-1"==i?this.subTitleArray[4]:i.indexOf("1-")!=-1?this.subTitleArray[5]:i.indexOf("3-")!=-1?this.subTitleArray[6]:"2-1"==i?this.subTitleArray[7]:"4-2"==i?this.subTitleArray[8]:"4-5"==i?this.subTitleArray[9]:i.indexOf("5-")!=-1?this.subTitleArray[10]:i.indexOf("6-")!=-1&&"6-1"!=i?this.subTitleArray[11]:"6-1"==i?this.subTitleArray[12]:this.subTitleArray[13],n(o||window.CONF.subTitleConf.default||"")):(o="1"==i?this.subTitleArray[0]:"-1"==i?this.subTitleArray[1]:"-701"==i?this.subTitleArray[2]:window.CONF.subTitleConf.default||"",n(o||window.CONF.subTitleConf.default||""))},s.firstCharToUpperCaseAndReportData=function(e,n,i){var e=e?e.replace(e.charAt(0),e.charAt(0).toUpperCase()):"",o=window.CONF.trackParam,r=o.activityId,a=o.groupId,c=o.advertIds,l=c[e+n],u=[];l&&u.push(r,l,a,1),i&&u.push(i),t.reportData(s.trackPrefix+e+n,u.join("_"))},s.initShare=function(){var e={},t=s.getShareConf();"jdApp"!=this.env?"wxApp"==this.env?o.init(t):(e.url=t.url,e.img=t.img,e.title=t.title,e.content=t.content,e.channel="weixin",this.shareObj||(this.shareObj=new a(e,s.showCopyShare))):"undefined"==typeof XView&&setTimeout(function(){i&&i.setShareInfo(t)},0)},s.closeGame=function(){t.closeXView()},s.callShare=function(e){s.firstCharToUpperCaseAndReportData(e.type,"Share");var t=window.CONF.shareConf,n=game.popup.getShareKey();if("jdApp"==this.env){"undefined"!=typeof XView;try{t.longImg&&s.jdAppClientVersion?i&&i.sendDirectShare(s.getShareConf(!0)):i&&i.callSharePane(s.getShareConf(!1,n))}catch(e){}}else"wxApp"==this.env?s.showShareTips():s.shareObj.callShare()},s.openWXHandle=function(){try{s.firstCharToUpperCaseAndReportData("","OpenWX"),window.location.href="weixin://";var e="//weixin.qq.com/",t=1e3;setTimeout(function(){window.location.href=e},t)}catch(t){window.location.href=e}},s.replayGame=function(e){s.firstCharToUpperCaseAndReportData(e.type,"RePlay"),s.closePopup(),s.startGame()},s.toHome=function(e){s.firstCharToUpperCaseAndReportData(e.type,"ReturnHome");var n="",i="openApp.jdMobile://360buy?type=1",o='openApp.jdMobile://virtual?params={"category":"jump","des":"HomePage"}',r="http://m.jd.com";n="iphone"==this.OS?o:i,"jdApp"==this.env?"undefined"!=typeof XView?(c.toHome(),this.closeGame()):c.toHome():t.openJdApp(n,r)},s.toLogin=function(e){s.firstCharToUpperCaseAndReportData("","Login"),r.add(this.cookiePrefix+"Gamec","true",0,void 0,"m.jd.com");var n=window.location.href;t.queryString("open")||(n=t.addParamToUrl(n,"open",!0)),"undefined"!=typeof XView&&(n=t.addParamToUrl(n,"xview","true")),t.delay(function(){t.goLogin(n)})},s.toCoupon=function(e){s.firstCharToUpperCaseAndReportData(e.type,"MyCoupon");var n='openApp.jdMobile://virtual?params={"category":"jump","des":"mycoupon","sourceValue":"sourceValue_test","sourceType":"sourceType_test"}',i="http://home.m.jd.com/wallet/coupons.action";e.type;"jdApp"==this.env?c.toCouponCenter():(s.savePopupInfo(e),t.openJdApp(n,i))},s.toMall=function(e){s.firstCharToUpperCaseAndReportData(e.type,"GoUrl");var n=window.CONF.mallURL;if(n){var i=encodeURIComponent(n),o='openApp.jdMobile://virtual?params={"category":"jump","des":"getCoupon","action":"to","url":"'+i+'","landPageId":"mtun"}"';"jdApp"==this.env?c.openNewWebView(n):(s.savePopupInfo(e),t.openJdApp(o,window.CONF.mallURL))}},s.jump=function(e){s.firstCharToUpperCaseAndReportData(e.type,"GoUrl"+e.urlIdx);var n=window.CONF.jumpUrls[e.urlIdx];if(n){var i=encodeURIComponent(n),o='openApp.jdMobile://virtual?params={"category":"jump","des":"getCoupon","action":"to","url":"'+i+'","landPageId":"mtun"}';"jdApp"==this.env?c.openNewWebView(n):(s.savePopupInfo(e),t.openJdApp(o,n))}},s.sku=function(e){s.firstCharToUpperCaseAndReportData(e.type,"Sku"+e.idIdx);var n=window.CONF.skuIds[e.idIdx];if(null!=n){var i='openApp.jdMobile://virtual?params={"category":"jump","des":"productDetail","skuId":"'+n+'"}',o="//item.m.jd.com/ware/view.action?wareId="+n;"jdApp"==this.env?c.toProduct(n):(s.savePopupInfo(e),t.openJdApp(i,o))}},s.shop=function(e){s.firstCharToUpperCaseAndReportData(e.type,"Shop"+e.idIdx);var n=window.CONF.shopIds[e.idIdx];if(null!=n){var i='openApp.jdMobile://virtual?params={"category":"jump","des":"jshopMain","shopId":"'+n+'"}',o="//ok.jd.com/m/index-"+n+".htm";"jdApp"==this.env?c.toShop(n):(s.savePopupInfo(e),t.openJdApp(i,o))}},s.savePopupInfo=function(e){var t=e.type,n="";n="coupon"==t?"&type=coupon&cond="+JSON.stringify(e.info):"fail"==t?"&type=fail&title="+encodeURIComponent(e.info&&e.info.title):"entity"==t?"&type=entity&val="+(e.info&&e.info.val):"miss"==t?"&type=miss&title="+encodeURIComponent(e.conf&&e.conf.subtitle):"unstore"==t?"&type=unstore&val="+(e.info&&e.info.val):"&type="+t,n="id="+s.id+n,setTimeout(function(){window.history.replaceState&&window.history.replaceState(null,"","?"+n)},0),r.add(this.cookiePrefix+"gomall","true",0,void 0,"m.jd.com")},s.showPopupBackFromMall=function(){var e=t.queryString("type");if(e)if("coupon"==e)s.showCoupon(JSON.parse(t.queryString("cond")||"{}"),!0);else if("fail"==e)s.showFailMall(decodeURIComponent(t.queryString("title")));else if("entity"==e)s.showEntity(t.queryString("val"),!0);else if("unstore"==e)s.showUnstore(t.queryString("val"),!0);else{var n=e.replace(/^./,function(e){return e.toUpperCase()});s["show"+n]?s["show"+n](!0):game.popup[e](null,!0)}},s.closePopup=function(){game.popup.hide(!0)},s.showCoupon=function(e,t){void 0==t?game.popup.coupon({pack:e.pack,total:e.total,info:s.gameResultInfo}):game.popup.coupon({pack:e.pack,total:e.total,info:s.gameResultInfo},!0)},s.showNoCoupon=function(e){void 0==e?game.popup.noCoupon():game.popup.noCoupon(!0)},s.showFail=function(e,t){game.popup.fail({title:s.getSubTitle(e,t),info:s.gameResultInfo})},s.showFailMall=function(e){game.popup.fail({title:e,info:s.gameResultInfo},!0)},s.showLogin=function(){game.popup.login()},s.showEntity=function(t,n){e.extend(t,{info:s.gameResultInfo}),void 0==n?game.popup.entity(t):game.popup.entity(t,!0)},s.showUnstore=function(t,n){e.extend(t,{info:s.gameResultInfo}),void 0==n?game.popup.unstore(t):game.popup.unstore(t,!0)},s.showShareTips=function(){game.popup.shareTips()},s.showCopyShare=function(){game.popup.copyShare("{project}"+s.getShareConf().title+"：","{project}"+s.getShareConf().url,{project:""})},s.showMiss=function(e){game.popup.miss({},e)},s.showAlready=function(e){void 0==e?game.popup.already():game.popup.already(!0)},s.retry=function(){s.firstCharToUpperCaseAndReportData("","NetworkAnomaly"),game.popup.retry(function(){s.firstCharToUpperCaseAndReportData("","Reconnect"),s.lottery(void 0,!0)})},e(function(){s.init()})}).call(t,n(1))},function(e,t){var n=function(){function e(e){return null==e?String(e):Q[G.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function i(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function o(t){return"object"==e(t)}function r(e){return o(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function a(e){return"number"==typeof e.length}function c(e){return O.call(e,function(e){return null!=e})}function s(e){return e.length>0?k.fn.concat.apply([],e):e}function l(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function u(e){return e in E?E[e]:E[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function p(e,t){return"number"!=typeof t||P[l(e)]?t:t+"px"}function f(e){var t,n;return _[e]||(t=T.createElement(e),T.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),_[e]=n),_[e]}function d(e){return"children"in e?N.call(e.children):k.map(e.childNodes,function(e){if(1==e.nodeType)return e})}function h(e,t,n){for(S in t)n&&(r(t[S])||Z(t[S]))?(r(t[S])&&!r(e[S])&&(e[S]={}),Z(t[S])&&!Z(e[S])&&(e[S]=[]),h(e[S],t[S],n)):t[S]!==C&&(e[S]=t[S])}function m(e,t){return null==t?k(e):k(e).filter(t)}function g(e,n,i,o){return t(n)?n.call(e,i,o):n}function w(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function v(e,t){var n=e.className||"",i=n&&n.baseVal!==C;return t===C?i?n.baseVal:n:void(i?n.baseVal=t:e.className=t)}function y(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?k.parseJSON(e):e):e}catch(t){return e}}function b(e,t){t(e);for(var n=0,i=e.childNodes.length;n<i;n++)b(e.childNodes[n],t)}var C,S,k,A,j,I,x=[],N=x.slice,O=x.filter,T=window.document,_={},E={},P={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},R=/^\s*<(\w+|!)[^>]*>/,M=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,U=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,L=/^(?:body|html)$/i,q=/([A-Z])/g,B=["val","css","html","text","data","width","height","offset"],H=["after","prepend","before","append"],D=T.createElement("table"),W=T.createElement("tr"),J={tr:T.createElement("tbody"),tbody:D,thead:D,tfoot:D,td:W,th:W,"*":T.createElement("div")},F=/complete|loaded|interactive/,V=/^[\w-]*$/,Q={},G=Q.toString,X={},$=T.createElement("div"),z={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Z=Array.isArray||function(e){return e instanceof Array};return X.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,o=e.parentNode,r=!o;return r&&(o=$).appendChild(e),i=~X.qsa(o,t).indexOf(e),r&&$.removeChild(e),i},j=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},I=function(e){return O.call(e,function(t,n){return e.indexOf(t)==n})},X.fragment=function(e,t,n){var i,o,a;return M.test(e)&&(i=k(T.createElement(RegExp.$1))),i||(e.replace&&(e=e.replace(U,"<$1></$2>")),t===C&&(t=R.test(e)&&RegExp.$1),t in J||(t="*"),a=J[t],a.innerHTML=""+e,i=k.each(N.call(a.childNodes),function(){a.removeChild(this)})),r(n)&&(o=k(i),k.each(n,function(e,t){B.indexOf(e)>-1?o[e](t):o.attr(e,t)})),i},X.Z=function(e,t){return e=e||[],e.__proto__=k.fn,e.selector=t||"",e},X.isZ=function(e){return e instanceof X.Z},X.init=function(e,n){var i;if(!e)return X.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&R.test(e))i=X.fragment(e,RegExp.$1,n),e=null;else{if(n!==C)return k(n).find(e);i=X.qsa(T,e)}else{if(t(e))return k(T).ready(e);if(X.isZ(e))return e;if(Z(e))i=c(e);else if(o(e))i=[e],e=null;else if(R.test(e))i=X.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==C)return k(n).find(e);i=X.qsa(T,e)}}return X.Z(i,e)},k=function(e,t){return X.init(e,t)},k.extend=function(e){var t,n=N.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){h(e,n,t)}),e},X.qsa=function(e,t){var n,o="#"==t[0],r=!o&&"."==t[0],a=o||r?t.slice(1):t,c=V.test(a);return i(e)&&c&&o?(n=e.getElementById(a))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:N.call(c&&!o?r?e.getElementsByClassName(a):e.getElementsByTagName(t):e.querySelectorAll(t))},k.contains=T.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},k.type=e,k.isFunction=t,k.isWindow=n,k.isArray=Z,k.isPlainObject=r,k.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},k.inArray=function(e,t,n){return x.indexOf.call(t,e,n)},k.camelCase=j,k.trim=function(e){return null==e?"":String.prototype.trim.call(e)},k.uuid=0,k.support={},k.expr={},k.map=function(e,t){var n,i,o,r=[];if(a(e))for(i=0;i<e.length;i++)n=t(e[i],i),null!=n&&r.push(n);else for(o in e)n=t(e[o],o),null!=n&&r.push(n);return s(r)},k.each=function(e,t){var n,i;if(a(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(i in e)if(t.call(e[i],i,e[i])===!1)return e;return e},k.grep=function(e,t){return O.call(e,t)},window.JSON&&(k.parseJSON=JSON.parse),k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Q["[object "+t+"]"]=t.toLowerCase()}),k.fn={forEach:x.forEach,reduce:x.reduce,push:x.push,sort:x.sort,indexOf:x.indexOf,concat:x.concat,map:function(e){return k(k.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return k(N.apply(this,arguments))},ready:function(e){return F.test(T.readyState)&&T.body?e(k):T.addEventListener("DOMContentLoaded",function(){e(k)},!1),this},get:function(e){return e===C?N.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return x.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):k(O.call(this,function(t){return X.matches(t,e)}))},add:function(e,t){return k(I(this.concat(k(e,t))))},is:function(e){return this.length>0&&X.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==C)this.each(function(t){e.call(this,t)||n.push(this)});else{var i="string"==typeof e?this.filter(e):a(e)&&t(e.item)?N.call(e):k(e);this.forEach(function(e){i.indexOf(e)<0&&n.push(e)})}return k(n)},has:function(e){return this.filter(function(){return o(e)?k.contains(this,e):k(this).find(e).size()})},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!o(e)?e:k(e)},last:function(){var e=this[this.length-1];return e&&!o(e)?e:k(e)},find:function(e){var t,n=this;return t=e?"object"==typeof e?k(e).filter(function(){var e=this;return x.some.call(n,function(t){return k.contains(t,e)})}):1==this.length?k(X.qsa(this[0],e)):this.map(function(){return X.qsa(this,e)}):k()},closest:function(e,t){var n=this[0],o=!1;for("object"==typeof e&&(o=k(e));n&&!(o?o.indexOf(n)>=0:X.matches(n,e));)n=n!==t&&!i(n)&&n.parentNode;return k(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=k.map(n,function(e){if((e=e.parentNode)&&!i(e)&&t.indexOf(e)<0)return t.push(e),e});return m(t,e)},parent:function(e){return m(I(this.pluck("parentNode")),e)},children:function(e){return m(this.map(function(){return d(this)}),e)},contents:function(){return this.map(function(){return N.call(this.childNodes)})},siblings:function(e){return m(this.map(function(e,t){return O.call(d(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return k.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=f(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var i=k(e).get(0),o=i.parentNode||this.length>1;return this.each(function(t){k(this).wrapAll(n?e.call(this,t):o?i.cloneNode(!0):i)})},wrapAll:function(e){if(this[0]){k(this[0]).before(e=k(e));for(var t;(t=e.children()).length;)e=t.first();k(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var i=k(this),o=i.contents(),r=n?e.call(this,t):e;o.length?o.wrapAll(r):i.append(r)})},unwrap:function(){return this.parent().each(function(){k(this).replaceWith(k(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=k(this);(e===C?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return k(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return k(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;k(this).empty().append(g(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=g(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(o(e))for(S in e)w(this,S,e[S]);else w(this,e,g(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:C},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){w(this,e)},this)})},prop:function(e,t){return e=z[e]||e,1 in arguments?this.each(function(n){this[e]=g(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(q,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,t):this.attr(n);return null!==i?y(i):C},val:function(e){return 0 in arguments?this.each(function(t){this.value=g(this,e,t,this.value)}):this[0]&&(this[0].multiple?k(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=k(this),i=g(this,e,t,n.offset()),o=n.offsetParent().offset(),r={top:i.top-o.top,left:i.left-o.left};"static"==n.css("position")&&(r.position="relative"),n.css(r)});if(!this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var i,o=this[0];if(!o)return;if(i=getComputedStyle(o,""),"string"==typeof t)return o.style[j(t)]||i.getPropertyValue(t);if(Z(t)){var r={};return k.each(t,function(e,t){r[t]=o.style[j(t)]||i.getPropertyValue(t)}),r}}var a="";if("string"==e(t))n||0===n?a=l(t)+":"+p(t,n):this.each(function(){this.style.removeProperty(l(t))});else for(S in t)t[S]||0===t[S]?a+=l(S)+":"+p(S,t[S])+";":this.each(function(){this.style.removeProperty(l(S))});return this.each(function(){this.style.cssText+=";"+a})},index:function(e){return e?this.indexOf(k(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&x.some.call(this,function(e){return this.test(v(e))},u(e))},addClass:function(e){return e?this.each(function(t){if("className"in this){A=[];var n=v(this),i=g(this,e,t,n);i.split(/\s+/g).forEach(function(e){k(this).hasClass(e)||A.push(e)},this),A.length&&v(this,n+(n?" ":"")+A.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===C)return v(this,"");A=v(this),g(this,e,t,A).split(/\s+/g).forEach(function(e){A=A.replace(u(e)," ")}),v(this,A.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var i=k(this),o=g(this,e,n,v(this));o.split(/\s+/g).forEach(function(e){(t===C?!i.hasClass(e):t)?i.addClass(e):i.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===C?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===C?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),i=L.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(k(e).css("margin-top"))||0,n.left-=parseFloat(k(e).css("margin-left"))||0,i.top+=parseFloat(k(t[0]).css("border-top-width"))||0,i.left+=parseFloat(k(t[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||T.body;e&&!L.test(e.nodeName)&&"static"==k(e).css("position");)e=e.offsetParent;return e})}},k.fn.detach=k.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});k.fn[e]=function(o){var r,a=this[0];return o===C?n(a)?a["inner"+t]:i(a)?a.documentElement["scroll"+t]:(r=this.offset())&&r[e]:this.each(function(t){a=k(this),a.css(e,g(this,o,t,a[e]()))})}}),H.forEach(function(t,n){var i=n%2;k.fn[t]=function(){var t,o,r=k.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:X.fragment(n)}),a=this.length>1;return r.length<1?this:this.each(function(e,t){o=i?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var c=k.contains(T.documentElement,o);r.forEach(function(e){if(a)e=e.cloneNode(!0);else if(!o)return k(e).remove();o.insertBefore(e,t),c&&b(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},k.fn[i?t+"To":"insert"+(n?"Before":"After")]=function(e){return k(e)[t](this),this}}),X.Z.prototype=k.fn,X.uniq=I,X.deserializeValue=y,k.zepto=X,k}();window.Zepto=n,void 0===window.$&&(window.$=n),function(e){function t(e){return e._zid||(e._zid=f++)}function n(e,n,r,a){if(n=i(n),n.ns)var c=o(n.ns);return(g[t(e)]||[]).filter(function(e){return e&&(!n.e||e.e==n.e)&&(!n.ns||c.test(e.ns))&&(!r||t(e.fn)===t(r))&&(!a||e.sel==a)})}function i(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function o(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function r(e,t){return e.del&&!v&&e.e in y||!!t}function a(e){return b[e]||v&&y[e]||e}function c(n,o,c,s,u,f,d){var h=t(n),m=g[h]||(g[h]=[]);o.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(c);var o=i(t);o.fn=c,o.sel=u,o.e in b&&(c=function(t){var n=t.relatedTarget;if(!n||n!==this&&!e.contains(this,n))return o.fn.apply(this,arguments)}),o.del=f;var h=f||c;o.proxy=function(e){if(e=l(e),!e.isImmediatePropagationStopped()){e.data=s;var t=h.apply(n,e._args==p?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},o.i=m.length,m.push(o),"addEventListener"in n&&n.addEventListener(a(o.e),o.proxy,r(o,d))})}function s(e,i,o,c,s){var l=t(e);(i||"").split(/\s/).forEach(function(t){n(e,t,o,c).forEach(function(t){delete g[l][t.i],"removeEventListener"in e&&e.removeEventListener(a(t.e),t.proxy,r(t,s))})})}function l(t,n){return!n&&t.isDefaultPrevented||(n||(n=t),e.each(A,function(e,i){var o=n[e];t[e]=function(){return this[i]=C,o&&o.apply(n,arguments)},t[i]=S}),(n.defaultPrevented!==p?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=C)),t}function u(e){var t,n={originalEvent:e};for(t in e)k.test(t)||e[t]===p||(n[t]=e[t]);return l(n,e)}var p,f=1,d=Array.prototype.slice,h=e.isFunction,m=function(e){return"string"==typeof e},g={},w={},v="onfocusin"in window,y={focus:"focusin",blur:"focusout"},b={mouseenter:"mouseover",mouseleave:"mouseout"};w.click=w.mousedown=w.mouseup=w.mousemove="MouseEvents",e.event={add:c,remove:s},e.proxy=function(n,i){var o=2 in arguments&&d.call(arguments,2);if(h(n)){var r=function(){return n.apply(i,o?o.concat(d.call(arguments)):arguments)};return r._zid=t(n),r}if(m(i))return o?(o.unshift(n[i],n),e.proxy.apply(null,o)):e.proxy(n[i],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,i){return this.on(e,t,n,i,1)};var C=function(){return!0},S=function(){return!1},k=/^([A-Z]|returnValue$|layer[XY]$)/,A={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,i,o,r){var a,l,f=this;return t&&!m(t)?(e.each(t,function(e,t){f.on(e,n,i,t,r)}),f):(m(n)||h(o)||o===!1||(o=i,i=n,n=p),(h(i)||i===!1)&&(o=i,i=p),o===!1&&(o=S),f.each(function(p,f){r&&(a=function(e){return s(f,e.type,o),o.apply(this,arguments)}),n&&(l=function(t){var i,r=e(t.target).closest(n,f).get(0);if(r&&r!==f)return i=e.extend(u(t),{currentTarget:r,liveFired:f}),(a||o).apply(r,[i].concat(d.call(arguments,1)))}),c(f,t,o,i,n,l||a)}))},e.fn.off=function(t,n,i){var o=this;return t&&!m(t)?(e.each(t,function(e,t){o.off(e,n,t)}),o):(m(n)||h(i)||i===!1||(i=n,n=p),i===!1&&(i=S),o.each(function(){s(this,t,i,n)}))},e.fn.trigger=function(t,n){return t=m(t)||e.isPlainObject(t)?e.Event(t):l(t),t._args=n,this.each(function(){t.type in y&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n);
})},e.fn.triggerHandler=function(t,i){var o,r;return this.each(function(a,c){o=u(m(t)?e.Event(t):t),o._args=i,o.target=c,e.each(n(c,t.type||t),function(e,t){if(r=t.proxy(o),o.isImmediatePropagationStopped())return!1})}),r},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){m(e)||(t=e,e=t.type);var n=document.createEvent(w[e]||"Events"),i=!0;if(t)for(var o in t)"bubbles"==o?i=!!t[o]:n[o]=t[o];return n.initEvent(e,i,!0),l(n)}}(n),function(e){function t(t,n,i){var o=e.Event(n);return e(t).trigger(o,i),!o.isDefaultPrevented()}function n(e,n,i,o){if(e.global)return t(n||v,i,o)}function i(t){t.global&&0===e.active++&&n(t,null,"ajaxStart")}function o(t){t.global&&!--e.active&&n(t,null,"ajaxStop")}function r(e,t){var i=t.context;return t.beforeSend.call(i,e,t)!==!1&&n(t,i,"ajaxBeforeSend",[e,t])!==!1&&void n(t,i,"ajaxSend",[e,t])}function a(e,t,i,o){var r=i.context,a="success";i.success.call(r,e,a,t),o&&o.resolveWith(r,[e,a,t]),n(i,r,"ajaxSuccess",[t,i,e]),s(a,t,i)}function c(e,t,i,o,r){var a=o.context;o.error.call(a,i,t,e),r&&r.rejectWith(a,[i,t,e]),n(o,a,"ajaxError",[i,o,e||t]),s(t,i,o)}function s(e,t,i){var r=i.context;i.complete.call(r,t,e),n(i,r,"ajaxComplete",[t,i]),o(i)}function l(){}function u(e){return e&&(e=e.split(";",2)[0]),e&&(e==k?"html":e==S?"json":b.test(e)?"script":C.test(e)&&"xml")||"text"}function p(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function f(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=p(t.url,t.data),t.data=void 0)}function d(t,n,i,o){return e.isFunction(n)&&(o=i,i=n,n=void 0),e.isFunction(i)||(o=i,i=void 0),{url:t,data:n,success:i,dataType:o}}function h(t,n,i,o){var r,a=e.isArray(n),c=e.isPlainObject(n);e.each(n,function(n,s){r=e.type(s),o&&(n=i?o:o+"["+(c||"object"==r||"array"==r?n:"")+"]"),!o&&a?t.add(s.name,s.value):"array"==r||!i&&"object"==r?h(t,s,i,n):t.add(n,s)})}var m,g,w=0,v=window.document,y=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,b=/^(?:text|application)\/javascript/i,C=/^(?:text|application)\/xml/i,S="application/json",k="text/html",A=/^\s*$/,j=v.createElement("a");j.href=window.location.href,e.active=0,e.ajaxJSONP=function(t,n){if(!("type"in t))return e.ajax(t);var i,o,s=t.jsonpCallback,l=(e.isFunction(s)?s():s)||"jsonp"+ ++w,u=v.createElement("script"),p=window[l],f=function(t){e(u).triggerHandler("error",t||"abort")},d={abort:f};return n&&n.promise(d),e(u).on("load error",function(r,s){clearTimeout(o),e(u).off().remove(),"error"!=r.type&&i?a(i[0],d,t,n):c(null,s||"error",d,t,n),window[l]=p,i&&e.isFunction(p)&&p(i[0]),p=i=void 0}),r(d,t)===!1?(f("abort"),d):(window[l]=function(){i=arguments},u.src=t.url.replace(/\?(.+)=\?/,"?$1="+l),v.head.appendChild(u),t.timeout>0&&(o=setTimeout(function(){f("timeout")},t.timeout)),d)},e.ajaxSettings={type:"GET",beforeSend:l,success:l,error:l,complete:l,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:S,xml:"application/xml, text/xml",html:k,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(t){var n,o=e.extend({},t||{}),s=e.Deferred&&e.Deferred();for(m in e.ajaxSettings)void 0===o[m]&&(o[m]=e.ajaxSettings[m]);i(o),o.crossDomain||(n=v.createElement("a"),n.href=o.url,n.href=n.href,o.crossDomain=j.protocol+"//"+j.host!=n.protocol+"//"+n.host),o.url||(o.url=window.location.toString()),f(o);var d=o.dataType,h=/\?.+=\?/.test(o.url);if(h&&(d="jsonp"),o.cache!==!1&&(t&&t.cache===!0||"script"!=d&&"jsonp"!=d)||(o.url=p(o.url,"_="+Date.now())),"jsonp"==d)return h||(o.url=p(o.url,o.jsonp?o.jsonp+"=?":o.jsonp===!1?"":"callback=?")),e.ajaxJSONP(o,s);var w,y=o.accepts[d],b={},C=function(e,t){b[e.toLowerCase()]=[e,t]},S=/^([\w-]+:)\/\//.test(o.url)?RegExp.$1:window.location.protocol,k=o.xhr(),I=k.setRequestHeader;if(s&&s.promise(k),o.crossDomain||C("X-Requested-With","XMLHttpRequest"),C("Accept",y||"*/*"),(y=o.mimeType||y)&&(y.indexOf(",")>-1&&(y=y.split(",",2)[0]),k.overrideMimeType&&k.overrideMimeType(y)),(o.contentType||o.contentType!==!1&&o.data&&"GET"!=o.type.toUpperCase())&&C("Content-Type",o.contentType||"application/x-www-form-urlencoded"),o.headers)for(g in o.headers)C(g,o.headers[g]);if(k.setRequestHeader=C,k.onreadystatechange=function(){if(4==k.readyState){k.onreadystatechange=l,clearTimeout(w);var t,n=!1;if(k.status>=200&&k.status<300||304==k.status||0==k.status&&"file:"==S){d=d||u(o.mimeType||k.getResponseHeader("content-type")),t=k.responseText;try{"script"==d?(0,eval)(t):"xml"==d?t=k.responseXML:"json"==d&&(t=A.test(t)?null:e.parseJSON(t))}catch(e){n=e}n?c(n,"parsererror",k,o,s):a(t,k,o,s)}else c(k.statusText||null,k.status?"error":"abort",k,o,s)}},r(k,o)===!1)return k.abort(),c(null,"abort",k,o,s),k;if(o.xhrFields)for(g in o.xhrFields)k[g]=o.xhrFields[g];var x=!("async"in o)||o.async;k.open(o.type,o.url,x,o.username,o.password);for(g in b)I.apply(k,b[g]);return o.timeout>0&&(w=setTimeout(function(){k.onreadystatechange=l,k.abort(),c(null,"timeout",k,o,s)},o.timeout)),k.send(o.data?o.data:null),k},e.get=function(){return e.ajax(d.apply(null,arguments))},e.post=function(){var t=d.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=d.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,i){if(!this.length)return this;var o,r=this,a=t.split(/\s/),c=d(t,n,i),s=c.success;return a.length>1&&(c.url=a[0],o=a[1]),c.success=function(t){r.html(o?e("<div>").html(t.replace(y,"")).find(o):t),s&&s.apply(r,arguments)},e.ajax(c),this};var I=encodeURIComponent;e.param=function(t,n){var i=[];return i.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(I(t)+"="+I(n))},h(i,t,n),i.join("&").replace(/%20/g,"+")}}(n),function(e){e.fn.serializeArray=function(){var t,n,i=[],o=function(e){return e.forEach?e.forEach(o):void i.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,function(i,r){n=r.type,t=r.name,t&&"fieldset"!=r.nodeName.toLowerCase()&&!r.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||r.checked)&&o(e(r).val())}),i},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(n),function(e){"__proto__"in{}||e.extend(e.zepto,{Z:function(t,n){return t=t||[],e.extend(t,e.fn),t.selector=n||"",t.__Z=!0,t},isZ:function(t){return"array"===e.type(t)&&"__Z"in t}});try{getComputedStyle(void 0)}catch(e){var t=getComputedStyle;window.getComputedStyle=function(e){try{return t(e)}catch(e){return null}}}}(n),e.exports=n},function(e,t,n){var i=n(3);e.exports={goLogin:function(e){i.toLogin(e||location)},delay:function(e,t){return setTimeout(function(){e()},"number"==typeof t&&t||80)},reportData:function(e,t,n){try{var i=e||"",o=new MPing.inputs.Click(i);t&&(o.event_param=t),n&&(o.event_level=n),o.updateEventSeries();var r=new MPing;r.send(o)}catch(e){}},addParamToUrl:function(e,t,n){var i=e.split("#")[0];return/\?/g.test(i)?/name=[-\w]{4,25}/g.test(i)?i=i.replace(/name=[-\w]{4,25}/g,t+"="+n):i+="&"+t+"="+n:i+="?"+t+"="+n,window.location.href.split("#")[1]?i+"#"+window.location.href.split("#")[1]:i},queryString:function(e){var t=new RegExp("[\\?&]"+e+"=([^&#]*)","i").exec(window.location.href);return t&&decodeURIComponent(t[1])||""},closeXView:function(){i.XViewClose()},openJdApp:function(e,t){var n=e,i=t,o=navigator.userAgent.toLowerCase(),r=o.indexOf("jdapp");if(r!=-1)location.href=e;else{var a=document.createElement("div");a.style.visibility="hidden",a.innerHTML="<iframe src="+n+' scrolling="no" width="1" height="1"></iframe>',document.body.appendChild(a),setTimeout(function(){location=i},1200)}},reportPV:function(){try{(new MPing).send(new MPing.inputs.PV)}catch(e){}}}},function(e,t,n){!function(e,i){i(t,n(4))}(this,function(e,t){"use strict";function n(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"openApp.jdMobile";window.location.href=i(e,t,n)}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"openApp.jdMobile";return n+"://"+e+"?params="+encodeURIComponent(JSON.stringify(t))}function o(e,n){return i("virtual",t.assign({category:"jump",des:"productDetail",skuId:e},n))}function r(e,t){window.location.href=o(e,t)}function a(e,n){return i("virtual",t.assign({category:"jump",des:"jshopMain",shopId:e},n))}function c(e,t){window.location.href=a(e,t)}function s(){return t.isAndroid()?i("360buy",{type:1}):t.isIOS()?i("virtual",{category:"jump",des:"HomePage"}):void 0}function l(){window.location.href=s()}function u(e){return i("virtual",t.assign({category:"jump",des:"couponCenter"},e))}function p(e){window.location.href=u(e)}function f(e){return i("virtual",t.assign({category:"jump",des:"seckill"},e))}function d(e){window.location.href=f(e)}function h(e){console.warn("toFlashSale 已经改名为 toSecKill， 请使用新方法。"),d(e)}function m(e){return i("virtual",t.assign({category:"jump",des:"orderlist"},e))}function g(e){window.location.href=m(e)}function w(e){e=e||window.location.href;var n="https://passport.m.jd.com/user/login.action",i={v:1,returnurl:encodeURIComponent(e)};window.location.href=n+"?"+t.serialize(i)}function v(e){n("virtual",{category:"jump",action:"to",des:"m",url:e})}function y(e){return i("virtual",t.assign({category:"jump",des:"Discovery"},e))}function b(e){window.location.href=y(e)}function C(e,n){return i("virtual",t.assign({category:"jump",des:"faxian_article",id:e},n))}function S(e,t){window.location.href=C(e,t)}function k(e,n){return i("virtual",t.assign({category:"jump",des:"faxian_author",authorId:e},n))}function A(e,t){window.location.href=k(e,t)}function j(e){return i("virtual",t.assign({category:"jump",des:"inventory"},e))}function I(e){window.location.href=j(e)}function x(e,n){return i("virtual",t.assign({category:"jump",des:"inventoryDetail",id:e},n))}function N(e,t){window.location.href=x(e,t)}function O(e){return i("virtual",t.assign({category:"jump",des:"cartB"},e))}function T(e){window.location.href=O(e)}function _(){var e=t.getAppVersion("jd");t.versionCompare(e,"5.0.0")<0||(t.isAndroid()?window.AndroidNavi&&window.AndroidNavi.refreshCart():t.isIOS()&&n("communication",{action:"sh_refreshCart"}))}function E(){var e=t.getAppVersion("jd");t.versionCompare(e,"5.0.0")<0||(t.isAndroid()?window.AndroidNavi&&window.AndroidNavi.setCart(JSON.stringify({isShow:"Y"})):t.isIOS()&&(t.versionCompare(e,"5.1.0")<0?n("communication",{action:"sh_showCart"}):window.MobileNavi&&window.MobileNavi.configBtn(JSON.stringify({type:"cart",display:"show",position:"outside",icon:"",title:"购物车",jump:""}))))}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"find",t={find:"FindLivePlayList",seckill:"SecKillLivePlayList"};return i("virtual",{category:"jump",des:t[e],position:ye[e]})}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"find";window.location.href=P(e)}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"find",n={find:"FindLivePreDetail",seckill:"SecKillLivePreDetail"};return i("virtual",{category:"jump",des:n[t],id:e,position:ye[t]})}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"find";window.location.href=M(e,t)}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"find";return i("virtual",{category:"jump",des:"LivePlayerRoom",id:e,position:ye[t]})}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"find";window.location.href=L(e,t)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function W(){return t.isMobile()?"openapp.jdmobile":t.isTablet()&&t.isIOS()?"openapp.jdipad":void 0}function J(e){n("communication",{des:"share",type:111,title:e.title,content:e.content,shareUrl:e.url,iconUrl:e.img,shareActionType:e.shareActionType,channel:e.channel,qrparam:e.qrparam,callback:e.callbackSwitcher,clickcallback:e.clickcallbackSwitcher})}function F(e){shareHelper.initShare(JSON.stringify({title:e.title,content:e.content,shareUrl:decodeURIComponent(e.url),iconUrl:decodeURIComponent(e.img),shareActionType:e.shareActionType,channel:e.channel,qrparam:e.qrparam,callback:e.callbackSwitcher,clickcallback:e.clickcallbackSwitcher,eventId:""}))}function V(e,t){shareHelper[e](t.title,t.content,decodeURIComponent(t.url),decodeURIComponent(t.img),t.callbackSwitcher)}function Q(e,t){shareHelper[e](t.title,t.content,decodeURIComponent(t.url),decodeURIComponent(t.img))}function G(e,t){n("communication",{action:t,title:e.title,content:e.content,shareUrl:e.url,iconUrl:e.img,isCallBack:e.callbackSwitcher})}function X(e){var t={category:"jump",des:"share",type:"111",title:e.title,content:e.content,shareUrl:e.url,imageUrl:e.img,iconUrl:e.img,qrparam:e.qrparam,channel:e.channel,isCallBack:e.callbackSwitcher,clickcallback:e.clickcallbackSwitcher,shareActionType:e.shareActionType};n("virtual",t,W())}function $(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function z(e){window.jdappShareRes=function(t){t.hasOwnProperty("shareResult")?e.callback&&e.callback(t):e.clickcallback&&e.clickcallback(t)}}function Z(e){var n={Wxfriends:"WeChat_Friend",Wxmoments:"WeChat_FriendTimeline",Sinaweibo:"Weibo",QQfriends:"QQFriend_SHARE_CLIENT",QQzone:"QQZone_SHARE_CLIENT",Moreshare:""},i="";if(e){if(t.isIOS()){var o=t.getAppVersion("jd");if(t.isMobile()&&t.isApp("jd")&&t.versionCompare(o,"4.4.0")>=0&&t.versionCompare(o,"5.0.0")<0){if(i=n[e])return i;throw new Se("输入的channel参数在iphone版本中不存在")}return e}return e}return e}function K(e){return["title","content","url","img"].every(function(t){return void 0!==e[t]})}function Y(e){if(K(e)){var n={channel:"",qrparam:null,callback:null,clickcallback:null},i=void 0,o=void 0,r=void 0,a=void 0;try{"[object Object]"===Object.prototype.toString.call(e)&&t.assign(n,e),i="function"==typeof n.callback,r="function"==typeof n.clickcallback,o=i?Ce.WITH_CALLBACK:Ce.WITHOUT_CALLBACK,a=r?Ce.WITH_CALLBACK:Ce.WITHOUT_CALLBACK,i&&r?z({callback:n.callback,clickcallback:n.clickcallback}):i?z({callback:n.callback}):r&&z({clickcallback:n.clickcallback}),"[object Object]"===Object.prototype.toString.call(n.qrparam)&&(n.qrparam.top_pic=n.qrparam.top_pic?encodeURIComponent(decodeURIComponent(n.qrparam.top_pic)):"",n.qrparam.mid_pic=n.qrparam.mid_pic?encodeURIComponent(decodeURIComponent(n.qrparam.mid_pic)):""),n.callbackSwitcher=o,n.clickcallbackSwitcher=a,n.url=$(n.url,"_ts="+(new Date).getTime()),n.channel=Z(n.channel),n.url=encodeURIComponent(n.url),n.img=encodeURIComponent(n.img)}catch(e){throw e}return n}throw new Se("调用方法时传入配置对象格式错误，请查看文档")}function ee(e){if(t.isApp("jd"))try{var n=null;if(n=Y(e),n.shareActionType=Ce.SHARE_ACTION_SET,t.isAndroid())if(window.shareHelper)if("function"==typeof shareHelper.initShare)F(n);else if("function"==typeof shareHelper.setShareInfoCallback)if(n.callbackSwitcher===Ce.WITH_CALLBACK)try{V("setShareInfoCallback",n)}catch(e){Q("setShareInfoCallback",n)}else try{V("setShareInfoCallback",n)}catch(e){"function"==typeof shareHelper.setShareInfo&&Q("setShareInfo",n)}else"function"==typeof shareHelper.setShareInfo&&Q("setShareInfo",n);else J(n);else if(t.isIOS()){var i=t.getAppVersion("jd");t.isIPhone()&&t.versionCompare(i,"5.0.0")>=0||t.isIpad()&&t.versionCompare(i,"3.6.0")>=0?X(n):t.isIPhone()&&G(n,"syncShareData")}}catch(e){throw e}}function te(e){try{var n=null;if(n=Y(e),n.shareActionType=Ce.SHARE_ACTION_PANE,t.isAndroid())t.isApp("jd")&&window.shareHelper?"function"==typeof shareHelper.initShare?F(n):"function"==typeof shareHelper.callShare?V("callShare",n):J(n):J(n);else if(t.isIOS()){var i=t.getAppVersion("jd");t.isIPhone()&&t.versionCompare(i,"5.0.0")>=0||t.isIpad()&&t.versionCompare(i,"3.6.0")>=0?X(n):t.isIPhone()&&G(n,"share")}}catch(e){throw e}}function ne(e){try{var i=null;if(i=Y(e),i.shareActionType=Ce.SHARE_ACTION_OPEN,t.isAndroid())t.isApp("jd")&&window.shareHelper?"function"==typeof shareHelper.initShare?F(i):"function"==typeof shareHelper.sendShare?shareHelper.sendShare(i.title,i.content,decodeURIComponent(i.url),decodeURIComponent(i.img),i.channel,i.callbackSwitcher):J(i):J(i);else if(t.isIOS()){if(!i.channel)throw new Se("分享渠道未设置");var o=t.getAppVersion("jd");t.isIPhone()&&t.versionCompare(o,"5.0.0")>=0||t.isIpad()&&t.versionCompare(o,"3.6.0")>=0?X(i):t.isIPhone()&&n("virtual",{category:"jump",des:"share",type:111,title:i.title,content:i.content,shareUrl:i.url,imageUrl:i.img,channel:i.channel,isCallBack:i.callbackSwitcher})}}catch(e){throw e}}function ie(e){var n=t.getAppVersion("jd");!t.isApp("jd")||t.versionCompare(n,"6.0.0")<0||(t.isWebview("wk")?window.webkit.messageHandlers.MobileNavi.postMessage({method:"setNaviBackground",params:JSON.stringify(e),callBackName:null,callBackId:null}):window.MobileNavi&&MobileNavi.setNaviBackground(JSON.stringify(e)))}function oe(){var e=t.getAppVersion("jd"),n={type:"clear_js",display:"",position:"",icon:"",title:"",jump:""};console.log({method:"configBtnSince610",params:JSON.stringify({clear_js:n}),callBackName:null,callBackId:null}),t.isApp("jd")&&(t.isWebview("wk")?window.webkit.messageHandlers.MobileNavi.postMessage({method:"configBtnSince610",params:JSON.stringify({clear_js:n}),callBackName:null,callBackId:null}):t.versionCompare(e,"6.1.0")<0?window.MobileNavi&&MobileNavi.configBtn(JSON.stringify(n)):window.MobileNavi&&MobileNavi.configBtnSince610(JSON.stringify({clear_js:n})))}function re(e){var n={type:"",display:"",position:"",icon:"",title:"",jump:""},i=["homepage","search","calendar","cart","message","custom"];if(t.isObject(e)&&t.isApp("jd"))for(var o=t.assign(n,e),r=0;r<i.length;r++)o.type===i[r]&&(t.isWebview("wk")?window.webkit.messageHandlers.MobileNavi.postMessage({method:"configBtn",params:JSON.stringify(o),callBackName:null,callBackId:null}):window.MobileNavi&&MobileNavi.configBtn(JSON.stringify(o)))}function ae(e){var n="",i=["homepage","search","calendar","cart","message","custom"],o={};if(t.isObject(e)&&t.isApp("jd")){for(var r in e)if(n=!0,t.isObject(e[r])){for(var a=0;a<i.length;a++)if(e[r].type===i[a]){n=!1;break}n||(o[r]=e[r],o[r].display=e[r].display||"",o[r].icon=e[r].icon||"",o[r].jump=e[r].jump||"",o[r].position=e[r].position||"",o[r].title=e[r].title||"")}else{if(!t.isArray(e[r]))throw new Error("调用方法时传入配置对象格式错误");if(o[r]=e[r],o[r].length<3){n=!1;break}}n||(t.isWebview("wk")?window.webkit.messageHandlers.MobileNavi.postMessage({method:"configBtnSince610",params:JSON.stringify(o),callBackName:null,callBackId:null}):window.MobileNavi&&window.MobileNavi.configBtnSince610(JSON.stringify(o)))}}function ce(){t.isApp("jd")&&(t.isWebview("wk")?window.webkit.messageHandlers.MobileNavi.postMessage({method:"showCloseBtn"}):window.MobileNavi&&MobileNavi.showCloseBtn())}function se(e){var n={blackImg:"",whiteImg:""};t.isApp("jd")&&t.isObject(e)&&(t.assign(n,e),t.isWebview("wk")?window.webkit.messageHandlers.MobileNavi.postMessage({method:"enableTransparent",params:JSON.stringify(n),callBackName:null,callBackId:null}):window.MobileNavi&&MobileNavi.enableTransparent(JSON.stringify(n)))}function le(e){t.isApp("jd")&&t.isString(e)&&(t.isWebview("wk")?window.webkit.messageHandlers.MobileNavi.postMessage({method:"setTitle",params:e,callBackName:null,callBackId:null}):window.MobileNavi&&MobileNavi.setTitle(e))}function ue(e){t.isApp("jd")&&t.isString(e)&&(t.isWebview("wk")?window.webkit.messageHandlers.MobileNavi.postMessage({method:"showNativeBarcodeScan",params:e,callBackName:null,callBackId:null}):window.MobileNavi&&MobileNavi.showNativeBarcodeScan(e))}function pe(){t.isApp("jd")&&(t.isWebview("wk")?window.webkit.messageHandlers.MobileNavi.postMessage({method:"showNativeUpload"}):window.MobileNavi&&MobileNavi.showNativeUpload())}function fe(){t.isWebview("xview")&&(t.isWebview("wk")?window.webkit.messageHandlers.XView.postMessage({method:"close"}):window.XView&&window.XView.close())}function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.isWebview("xview")&&(t.isWebview("wk")?window.webkit.messageHandlers.XView.postMessage({method:"configCloseButton",params:{closeIcon:i,x:e,y:n},callBackName:null,callBackId:null}):window.XView&&XView.configCloseButton(i,e,n))}function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.isApp("jd")&&(t.isWebview("wk")?window.webkit.messageHandlers.JDPaySdk.postMessage({method:"jdpaysdk_pay",params:{pin:e,code:n,mode:i},callBackName:null,callBackId:null}):window.JDPaySdk&&JDPaySdk.jdpaysdk_pay(_params.pin,_params.code,_params.mode))}function me(){t.isApp("jd")&&(t.isWebview("wk")?window.webkit.messageHandlers.JDPaySdk.postMessage({method:"jdpaysdk_pop"}):window.JDPaySdk&&JDPaySdk.jdpaysdk_pop())}function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(t.isApp("jd")){var o={imgUrl:e,callBackName:n,callBackId:i};try{t.isWebview("wk")?window.webkit.messageHandlers.JDAppUnite.postMessage({method:"saveImageToPhoteAlbum",params:JSON.stringify(o),callBackName:null,callBackId:null}):window.JDAppUnite&&JDAppUnite.saveImageToPhoteAlbum(JSON.stringify(o))}catch(e){throw new Error(e)}}}function we(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t.isApp("jd")){var i={channelName:e,callBackName:n};try{t.isWebview("wk")?window.webkit.messageHandlers.MobileLogin.postMessage({method:"bindSocialAccountWithJsonString",params:JSON.stringify(i),callBackName:null,callBackId:null}):window.MobileLogin&&MobileLogin.bindSocialAccountWithJsonString(JSON.stringify(i))}catch(e){throw new Error(e)}}}function ve(){t.isApp("jd")&&(t.isIOS()?window.location.href="objc:callCamera":t.isAndroid()&&window.JDClient&&window.JDClient.openCamera())}var ye={find:"0",seckill:"2"},be=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Ce={WITH_CALLBACK:"Y",WITHOUT_CALLBACK:"N",SHARE_ACTION_SET:"S",SHARE_ACTION_PANE:"P",SHARE_ACTION_OPEN:"O"},Se=function(e){function t(e){B(this,t);var n=H(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.message=e,n.name="JdShareException",n}return D(t,e),be(t,[{key:"toString",value:function(){return this.name+": "+this.message}}]),t}(Error);e.nativeCall=n,e.buildSchema=i,e.getProductSchema=o,e.toProduct=r,e.getShopSchema=a,e.toShop=c,e.getHomeSchema=s,e.toHome=l,e.getCouponCenterSchema=u,e.toCouponCenter=p,e.getSecKillSchema=f,e.toSecKill=d,e.toFlashSale=h,e.getOrderListSchema=m,e.toOrderList=g,e.toLogin=w,e.openNewWebView=v,e.getDiscoverySchema=y,e.toDiscovery=b,e.getArticleSchema=C,e.toArticle=S,e.getAuthorSchema=k,e.toAuthor=A,e.getInventorySchema=j,e.toInventory=I,e.getInventoryDetailSchema=x,e.toInventoryDetail=N,e.getCartSchema=O,e.toCart=T,e.refreshCart=_,e.showCartButton=E,e.getLiveCastListSchema=P,e.toLiveCastList=R,e.getLiveCastPreviewSchema=M,e.toLiveCastPreview=U,e.getLiveCastRoomSchema=L,e.toLiveCastRoom=q,e.setShareInfo=ee,e.callSharePane=te,e.sendDirectShare=ne,e.setNaviBackground=ie,e.configBtnClear=oe,e.configBtnSet=re,e.configBtnSince610=ae,e.showCloseBtn=ce,e.enableTransparent=se,e.setTitle=le,e.showNativeBarcodeScan=ue,e.showNativeUpload=pe,e.XViewClose=fe,e.XViewConfigCloseButton=de,e.JDPaySdk_pay=he,e.JDPaySdk_pop=me,e.saveImageToPhoteAlbum=ge,e.bindSocialAccountWithJsonString=we,e.selectImage=ve,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e,t){var n=function(e){return e=(e||window.location.search).replace(/(^\?)/,""),e.split("&").map(function(e){return e=e.split("="),this[e[0]]=e[1],this}.bind({}))[0]};1===arguments.length&&e.indexOf("=")<0&&(t=e,e=null);var i=n(e);if(!t)return i;if("[object Array]"===Object.prototype.toString.call(t)){for(var o={},r=0;r<t.length;r++)o[t[r]]=i[t[r]]||null;return o}return i[t]}function n(e){return Object.keys(e).map(function(t){return t+"="+e[t]}).join("&")}function i(e){return Object.prototype.toString.call(e)}function o(e){return"function"==typeof e}function r(e){return"[object Object]"===i(e)}function a(e){return"[object Array]"==i(e)}function c(e){return"[object Undefined]"===i(e)}function s(e){return"[object Null]"==i(e)}function l(e){return"string"==typeof e}function u(e){return"boolean"==typeof e}function p(e){return"[object Number]"===i(e)}function f(e,t){return t=t||navigator.userAgent,"wx"===e?/micromessenger/i.test(t):"qq"===e?/qq\//i.test(t):"weibo"===e?/weibo/i.test(t):"jd"===e&&/^jdapp/i.test(t)}function d(e){return e=e||navigator.userAgent,/android/i.test(e)}function h(e){return e=e||navigator.userAgent,/ip(hone|od)|ipad/i.test(e)}function m(e){return e=e||navigator.userAgent,/ipad/i.test(e)||/android/i.test(e)&&!/mobi|mini|fennec/i.test(e)}function g(e){return e=e||navigator.userAgent,!!e.match(/ip(hone|od)|android.+mobile|windows (ce|phone)|blackberry|bb10|symbian|webos|firefox.+fennec|opera m(ob|in)i|polaris|iemobile|lgtelecom|nokia|sonyericsson|dolfin|uzard|natebrowser|ktf;|skt;/i)}function w(e){return e=e||navigator.userAgent,!!e.match(/iphone/i)}function v(e){return e=e||navigator.userAgent,!!e.match(/ipad/i)}function y(e,t){return t=t||navigator.userAgent,"xview"===e?"undefined"!=typeof window.XView:"wk"===e&&!!t.match(/supportjdshwk/i)}function b(e){e=e||navigator.userAgent;var t=/nettype\/([\S]*)/i;return f("jd",e)&&(t=/network\/([^;]*)/i),t.test(e)?RegExp.$1.toLowerCase():"unknown"}function C(e){return e=e||navigator.userAgent,f("jd",e)?e.split(";")[4]:null}function S(e,t){return t=t||navigator.userAgent,"jd"===e?t.split(";")[2]||null:"wx"===e?/micromessenger\/([\S]*)/i.test(t)?RegExp.$1:null:"qq"===e&&/qq\/([\S]*)/i.test(t)?RegExp.$1:null}function k(e){e=e||navigator.userAgent;var t=e.match(/android\s([0-9\.]*)/i);return t?t[1]:"unknown"}function A(e){e=e||navigator.userAgent;var t=e.match(/OS ((\d+_?){2,3})\s/i);return t?t[1].replace(/_/g,"."):"unknown"}function j(e){var t=e.split(".");return{full:e,major:parseInt(t[0],10),minor:parseInt(t[1],10),patch:parseInt(t[2],10),build:t[3]?parseInt(t[3],10):null}}function I(e,t){if(e===t)return 0;e=e.split("."),t=t.split(".");for(var n=e.length-t.length,i=[],o=0;o<Math.abs(n);o++)i.push(0);n>0?t=t.concat(i):n<0&&(e=e.concat(i));for(var r=0;r<e.length;r++){if(e[r]=parseInt(e[r],10),t[r]=parseInt(t[r],10),e[r]>t[r])return 1;if(e[r]<t[r])return-1}return 0}function x(e){if(null===e||void 0===e)throw new TypeError("`assign` cannot be called with null or undefined");return Object(e)}function N(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=void 0,o=x(t[0]),r=void 0,a=1;a<arguments.length;a++){i=Object(arguments[a]);for(var c in i)O.call(i,c)&&(o[c]=i[c]);if(Object.getOwnPropertySymbols){r=Object.getOwnPropertySymbols(i);for(var s=0;s<r.length;s++)T.call(i,r[s])&&(o[r[s]]=i[r[s]])}}return o}var O=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;e.getUrlQuery=t,e.serialize=n,e.isFunction=o,e.isObject=r,e.isArray=a,e.isUndefined=c,e.isNull=s,e.isString=l,e.isBoolean=u,e.isNumber=p,e.isApp=f,e.isAndroid=d,e.isIOS=h,e.isTablet=m,e.isMobile=g,e.isIPhone=w,e.isIPad=v,e.isWebview=y,e.getNetwork=b,e.getUUID=C,e.getAppVersion=S,e.getAndroidVersion=k,e.getIOSVersion=A,e.version=j,e.versionCompare=I,e.assign=N,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){var i;!function(o,r){i=function(){return r(o)}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}("undefined"!=typeof window?window:this,function(e){"use strict";function t(e){return'openapp.jdmobile://communication?params={"des":"share","type":"111","title":"'+e.title+'","content":"'+e.content+'","shareUrl":"'+e.url+'","iconUrl":"'+e.img+'","shareActionType":"'+e.shareActionType+'","channel":"'+e.channel+'","timeline_title":"'+e.timeline_title+'","qrparam":"'+e.qrparam+'","callback":"'+e.callbackSwitcher+'","clickcallback":"'+e.clickcallbackSwitcher+'"}'}function n(e){shareHelper.initShare(JSON.stringify({title:e.title,content:e.content,shareUrl:decodeURIComponent(e.url),iconUrl:decodeURIComponent(e.img),shareActionType:e.shareActionType,channel:e.channel,timeline_title:e.timeline_title,qrparam:e.qrparam,callback:e.callbackSwitcher,clickcallback:e.clickcallbackSwitcher,eventId:""}))}function i(e,t){shareHelper[e](t.title,t.content,decodeURIComponent(t.url),decodeURIComponent(t.img),t.callbackSwitcher)}function o(e,t){shareHelper[e](t.title,t.content,decodeURIComponent(t.url),decodeURIComponent(t.img))}function r(e,t){return'openapp.jdmobile://communication?params={"action":"'+t+'","title":"'+e.title+'","content":"'+e.content+'","shareUrl":"'+e.url+'","iconUrl":"'+e.img+'","isCallBack":"'+e.callbackSwitcher+'"}'}function a(e){var t={category:"jump",des:"share",type:"111",title:e.title,content:e.content,shareUrl:e.url,imageUrl:e.img,iconUrl:e.img,timeline_title:e.timeline_title,qrparam:e.qrparam,channel:e.channel,isCallBack:e.callbackSwitcher,clickcallback:e.clickcallbackSwitcher,shareActionType:e.shareActionType};return x+"virtual?params="+JSON.stringify(t)}function c(e){if(!(this instanceof c))return new c(e)}function s(e){this.message=e,this.name="JdShareException",this.toString=function(){return this.name+": "+this.message}}function l(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&(e[n]=t[n])}function u(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function p(t){e.jdappShareRes=function(e){e.hasOwnProperty("shareResult")?t.callback&&t.callback(e):t.clickcallback&&t.clickcallback(e)}}function f(e){var t={Wxfriends:"WeChat_Friend",Wxmoments:"WeChat_FriendTimeline",Sinaweibo:"Weibo",QQfriends:"QQFriend_SHARE_CLIENT",QQzone:"QQZone_SHARE_CLIENT",Moreshare:""},n="";if(e){if(C){if(j){if(n=t[e])return n;throw new s("输入的channel参数在iphone版本中不存在")}return e}return e}return e}function d(e){return void 0!==e.title&&void 0!==e.content&&void 0!==e.url&&void 0!==e.img}function h(e){if(d(e)){try{var t,n,i,o,r={timeline_title:"",channel:"",qrparam:null,callback:null,clickcallback:null};"[object Object]"===Object.prototype.toString.call(e)&&l(r,e),t="function"==typeof r.callback,i="function"==typeof r.clickcallback,n=t?N.WITH_CALLBACK:N.WITHOUT_CALLBACK,o=i?N.WITH_CALLBACK:N.WITHOUT_CALLBACK,t&&i?p({callback:r.callback,clickcallback:r.clickcallback}):t?p({callback:r.callback}):i&&p({clickcallback:r.clickcallback}),"[object Object]"===Object.prototype.toString.call(r.qrparam)&&(r.qrparam.top_pic=r.qrparam.top_pic?encodeURIComponent(decodeURIComponent(r.qrparam.top_pic)):"",r.qrparam.mid_pic=r.qrparam.mid_pic?encodeURIComponent(decodeURIComponent(r.qrparam.mid_pic)):"",r.qrparam.qr_direct=r.qrparam.qr_direct?encodeURIComponent(decodeURIComponent(r.qrparam.qr_direct)):""),
r.callbackSwitcher=n,r.clickcallbackSwitcher=o,r.url=u(r.url,"_ts="+(new Date).getTime()),r.channel=f(r.channel),r.url=encodeURIComponent(r.url),r.img=encodeURIComponent(r.img)}catch(e){throw e}return r}throw new s("调用方法时传入配置对象格式错误，请查看文档")}var m,g=navigator.userAgent.toLowerCase(),w=g.split(";"),v=g.indexOf("jdapp")!=-1,y=function(){if(v&&w[2])try{return parseInt(w[2].replace(/\./g,""))}catch(e){}}(),b="android"===w[1],C="iphone"===w[1],S=b||C,k=g.indexOf("ipad")!=-1,A=(/MicroMessenger/i.test(g),S&&v&&y>=500),j=S&&v&&y>=440&&y<500,I=k&&v&&y>=360,x=function(){return S?"openapp.jdmobile://":k?"openapp.jdipad://":void 0}(),N={WITH_CALLBACK:"Y",WITHOUT_CALLBACK:"N",SHARE_ACTION_SET:"S",SHARE_ACTION_PANE:"P",SHARE_ACTION_OPEN:"O"};return s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,c.prototype.setShareInfo=function(c){try{var s=null;if(v)if(s=h(c),s.shareActionType=N.SHARE_ACTION_SET,b)if(e.shareHelper)if("function"==typeof shareHelper.initShare)n(s);else if("function"==typeof shareHelper.setShareInfoCallback)if(s.callbackSwitcher===N.WITH_CALLBACK)try{i("setShareInfoCallback",s)}catch(e){o("setShareInfoCallback",s)}else try{i("setShareInfoCallback",s)}catch(e){"function"==typeof shareHelper.setShareInfo&&o("setShareInfo",s)}else"function"==typeof shareHelper.setShareInfo&&o("setShareInfo",s);else e.location.href=t(s);else(C||k)&&(A||I?location.href=a(s):C&&(location.href=r(s,"syncShareData")))}catch(e){throw e}},c.prototype.callSharePane=function(o){try{var c=null;c=h(o),c.shareActionType=N.SHARE_ACTION_PANE,b?v&&e.shareHelper?"function"==typeof shareHelper.initShare?n(c):"function"==typeof shareHelper.callShare?i("callShare",c):e.location.href=t(c):e.location.href=t(c):(C||k)&&(A||I?location.href=a(c):C&&(location.href=r(c,"share")))}catch(e){throw e}},c.prototype.sendDirectShare=function(i){try{var o,r=null;if(r=h(i),r.shareActionType=N.SHARE_ACTION_OPEN,b)v&&e.shareHelper?"function"==typeof shareHelper.initShare?n(r):"function"==typeof shareHelper.sendShare?shareHelper.sendShare(r.title,r.content,decodeURIComponent(r.url),decodeURIComponent(r.img),r.channel,r.callbackSwitcher):location.href=t(r):e.location.href=t(r);else if(C||k){if(!r.channel)throw new s("分享渠道未设置");A||I?location.href=a(r):C&&(o='openapp.jdmobile://virtual?params={"category":"jump","des":"share","type":"111","title":"'+r.title+'","content":"'+r.content+'","shareUrl":"'+r.url+'","imageUrl":"'+r.img+'","channel":"'+r.channel+'","isCallBack":"'+r.callbackSwitcher+'"}',location.href=o)}}catch(e){throw e}},m||(m=c()),m})},function(e,t,n){var i,o;!function(r,a){if("object"==typeof t&&t)a(t);else{var c={};a(c),i=c,o="function"==typeof i?i.call(t,n,t,e):i,!(void 0!==o&&(e.exports=o))}}(this,function(e){function t(e){return"function"==typeof e}function n(){try{WeixinJSBridge.on("menu:share:timeline",function(){WeixinJSBridge.invoke("shareTimeline",{img_url:i.img,img_width:55,img_height:55,link:t(i.url)?i.url(1):i.url,desc:i.desc,title:i.timeline_title?i.timeline_title:i.title},function(){try{t(i.callback)&&i.callback()}catch(e){}})}),/android/i.test(navigator.userAgent)?WeixinJSBridge.on("menu:share:weibo",function(){WeixinJSBridge.invoke("shareWeibo",{url:t(i.url)?i.url(2):i.url,content:i.title+":"+i.desc},function(){try{t(i.callback)&&i.callback()}catch(e){}})}):WeixinJSBridge.on("menu:share:weibo",function(){WeixinJSBridge.invoke("shareWeibo",{img_url:i.img,img_width:55,img_height:55,link:t(i.url)?i.url(2):i.url,desc:i.desc,title:i.title},function(){try{t(i.callback)&&i.callback()}catch(e){}})}),WeixinJSBridge.on("menu:share:appmessage",function(){WeixinJSBridge.invoke("sendAppMessage",{img_url:i.img,img_width:55,img_height:55,link:t(i.url)?i.url(3):i.url,desc:i.desc,title:i.title},function(){try{t(i.callback)&&i.callback()}catch(e){}})}),t(i.readycallback)&&i.readycallback()}catch(e){}}var i={img:"",url:location.href,desc:"",title:""},o=function(e){if("object"==typeof e)for(var o in e)e.hasOwnProperty(o)&&(i[o]=e[o]);"object"==typeof window.WeixinJSBridge&&t(window.WeixinJSBridge.invoke)?n():document.addEventListener?document.addEventListener("WeixinJSBridgeReady",n,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",n),document.attachEvent("onWeixinJSBridgeReady",n))};e.init=o})},function(e,t){e.exports={get:function(e){var t=new RegExp("(^|;|\\s+)"+e+"=([^;]*)(;|$)"),n=document.cookie.match(t);return n?unescape(n[2]):null},add:function(e,t,n,i,o){var r=e+"="+escape(t)+"; path="+(i||"/")+(o?"; domain="+o:"");if(n>0){var a=new Date;a.setDate(a.getDate()+n),r+=";expires="+a.toGMTString()}document.cookie=r},del:function(e,t,n){2==arguments.length&&(n=t,t="/"),document.cookie=e+"=;path="+t+";"+(n?"domain="+n+";":"")+"expires=Thu, 01-Jan-70 00:00:01 GMT"}}},function(e,t){var n=function(e,t){if(e=e||{},this.elementNode=e.elementNode||"",this.url=e.url||document.location.href||"",this.title=e.title||document.title||"",this.desc=e.content||document.title||"",this.img=e.img||document.getElementsByTagName("img").length>0&&document.getElementsByTagName("img")[0].src||"",this.img_title=e.img_title||document.title||"",this.from=e.from||window.location.host||"",this.channel=e.channel||"weixin",this.sid=e.sid||"",""!=this.elementNode&&!document.getElementById(this.elementNode))return!1;var n={lower:"//3gimg.qq.com/html5/js/qb.js",higher:"//jsapi.qq.com/get?api=app.share"},i={qq:{forbid:0,lower:1,higher:2},uc:{forbid:0,allow:1}},o=navigator.appVersion,r=o.split("MQQBrowser/").length>1?i.qq.higher:i.qq.forbid,a=o.split("UCBrowser/").length>1?i.uc.allow:i.uc.forbid,c={uc:"",qq:""},s=!1;return this.ucAppList={sinaWeibo:["kSinaWeibo","SinaWeibo",11,"新浪微博"],weixin:["kWeixin","WechatFriends",1,"微信好友"],weixinFriend:["kWeixinFriend","WechatTimeline","8","微信朋友圈"],QQ:["kQQ","QQ","4","QQ好友"],QZone:["kQZone","QZone","3","QQ空间"]},this.share=function(e){var n=this.title,o=this.url,c=this.desc,l=this.img,u=this.img_title,p=this.from;if("undefined"!=platform_os&&""!=platform_os||(platform_os=this.getPlatform()),a)"QZone"==e&&(B="mqqapi://share/to_qzone?src_type=web&version=1&file_type=news&req_type=1&image_url="+l+"&title="+n+"&description="+c+"&url="+o+"&app_name="+p,k=document.createElement("div"),k.style.visibility="hidden",k.innerHTML='<iframe src="'+B+'" scrolling="no" width="1" height="1"></iframe>',document.body.appendChild(k),setTimeout(function(){k&&k.parentNode&&k.parentNode.removeChild(k)},5e3)),"iPhone"==platform_os&&"undefined"!=typeof ucbrowser?(e=this.ucAppList[e][0],ucbrowser.web_share(n,c,o,e,"","","")):"undefined"!=typeof ucweb?(e=this.ucAppList[e][1],ucweb.startRequest("shell.page_share",[n,c,o,e,"","",""])):t&&t();else if(r&&!s){e=""==e?"":this.ucAppList[e][2];var f={url:o,title:n,description:c,img_url:l,img_title:u,to_app:e,cus_txt:"请输入此时此刻想要分享的内容"};if(f=""==e?"":f,"undefined"!=typeof browser){if("undefined"!=typeof browser.app&&r==i.qq.higher)return browser.app.share(f),void(t&&t())}else"undefined"!=typeof window.qb&&r==i.qq.lower?window.qb.share(f):t&&t()}else t&&t()},this.isloadqqApi=function(){if(r){var e=c.qq<5.4?n.lower:n.higher,t=document.createElement("script"),i=document.getElementsByTagName("body")[0];t.setAttribute("src",e),i.appendChild(t)}},this.getPlatform=function(){return ua=navigator.userAgent.toLowerCase(),ua.indexOf("iphone")>-1||ua.indexOf("ipad")>-1||ua.indexOf("ios")>-1?"iPhone":ua.indexOf("android")>-1||ua.indexOf("linux")>-1?"Android":"Unknown"},this.is_weixin=function(){var e=o.toLowerCase();return"micromessenger"==e.match(/MicroMessenger/i)},this.getVersion=function(e){var t=e.split("."),n=parseFloat(t[0]+"."+t[1]);return n},this.init=function(){platform_os=this.getPlatform(),c.qq=r?this.getVersion(o.split("MQQBrowser/")[1]):0,c.uc=a?this.getVersion(o.split("UCBrowser/")[1]):0,s=this.is_weixin(),r&&c.qq<5.4&&"iPhone"==platform_os||r&&c.qq<5.3&&"Android"==platform_os?r=i.qq.forbid:r&&c.qq<5.4&&"Android"==platform_os?r=i.qq.lower:a&&(c.uc<10.2&&"iPhone"==platform_os||c.uc<9.7&&"Android"==platform_os)&&(a=i.uc.forbid),this.isloadqqApi()},this.init(),this.callShare=function(){if(platform_os=this.getPlatform(),r){var e=this;setTimeout(function(){e.share(e.channel)},500)}else a?this.share(this.channel):t&&t()},this};e.exports=n}]);