@charset "utf-8";
@import "_rem";
@import "_animation";

/**========
预加载
=============**/
.jm-loader * { -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box }
.jm-loader { margin: 0; min-height: 100%; color: #5d26b8; background-color: #5d26b8; cursor: default; outline: 0; -webkit-user-select: none; user-select: none; -webkit-touch-callout: none; -webkit-tap-highlight-color: transparent; -webkit-text-size-adjust: none !important; position: absolute; z-index: 200; overflow: hidden; left: 0; top: 0; right: 0; bottom: 0; width: 100%; height: 100%;}
.jm-loader-graph { overflow: hidden; position: absolute; left: 50%; bottom: 50%; width: 3.2rem; height: 3.2rem; margin-left: -1.6rem; margin-top: -1rem;}
.jm-loader-progress { color: #b49bde; font-size: 1.6rem; margin-top: 2rem;}
.jm-scaleOut { opacity: 0; @include transform(scale3d(1.25,1.25,1.25)); @include transition(all 0.3s);}

/*=======初始化======*/
@mixin mm {
  display: -webkit-box;
  -webkit-box-pack: center;
  box-pack: center;
  -webkit-box-align: center;
  box-align: center;
}

body { background-color: #5d26b8; line-height: 1;}
img { width: 100%;}

.index-html { width: 100%; margin: 0 auto; max-width: 750px;}

.first-screen { position: absolute; width: 100%; height: 100%; top: 0; left: 50%; @include transform(translate3d(-50%,0,0)); max-width: 750px;
  .bg-building { position: absolute; bottom: 0; width: 100%;}
  .bg-surrounding { position: absolute; top: -2rem; width: 100%;}
  .slot-machine { position: relative; padding: 12.5rem 1.2rem 0;
    .bg-layer { width: 35.1rem; height: 46.1rem;}
    .light { position: absolute; top: 15rem; left: 50%; margin-left: -16.2rem; width: 32.4rem; height: 20.5rem; background-image: url("img/light.png"); background-repeat: no-repeat; background-position: center center; background-size: contain;}
    .light.move { background-image: url("img/light2.png");}
    .button { position: absolute; top: 34rem; width: 23.8rem; height: 9.7rem; left: 50%; margin-left: -11.9rem; @include transition(transform 0.1s ease-out); @include transform-origin(50% 100%);}
    .button.active { @include transform(scaleY(0.97));}
    .handler-box { position: absolute; top: 39.2rem; width: 2rem; height: 1.2rem; left: 50%; margin-left: 11.7rem; background: url("img/handler_bottom.png") no-repeat; background-size: contain;
      .handler { position: absolute; width: 5.8rem; height: 9.9rem; left: 0.5rem; bottom: 0.4rem; @include transition(transform 0.1s ease-out); @include transform-origin(0.1rem 100%);}
      .handler.active { @include transform(rotateZ(-40deg) scale(0.9));}
    }

    .roll-box { position: absolute; width: 25.8rem; height: 13rem; top: 18rem; left: 50%; margin-left: -12.9rem;
      .roll-wrapper { position: relative; width: 100%; height: 100%; overflow: hidden;
        ul { width: 8.3rem; overflow: hidden; float: left; padding-left: 0.4rem; @include transform(translateY(-5.2rem));
          li { height: 3.6rem; padding: 2rem 0.6rem;
            span { display: block; width: 7.1rem; height: 4.2rem; overflow: hidden;}
          }
        }
        ul:first-child { padding-left: 0;}
        .mask-top { width: 100%; height: 50%; background: -webkit-linear-gradient(top, rgba(190,190,190,1) 0%, rgba(255,255,255,0) 20%); }
        .mask-bottom { width: 100%; height: 50%; background: -webkit-linear-gradient(top, rgba(255,255,255,0) 80%, rgba(190,190,190,1) 100%); }
      }
    }

    .result-box { position: absolute; top: 46rem; width: 25.3rem; height: 9.9rem; left: 50%; margin-left: -12.7rem; background: url("img/result.png") no-repeat; background-size: contain;
      .result-wrapper { margin: 1.2rem auto 0; width: 20rem; height: 7.5rem; overflow: hidden;
        ul {
          li { line-height: 2.5rem; height: 2.5rem; color: #c95500; font-size: 1.5rem; @include flexBox();
            .name { width: 6rem; padding-right: 1.5rem; white-space: nowrap;}
            .coupon { @include flexItem(1); overflow: hidden; white-space: nowrap; text-overflow: ellipsis; text-align: right;}
          }
        }
      }
    }

  }
  .title { position: absolute; top: 4.1rem; left: 50%; width: 34.1rem; margin-left: -17rem;}
  .logo { position: absolute; left: 1rem; top: 0.9rem; width: 2.8rem;}
}
.second-screen { position: absolute; width: 100%; top: 100%; left: 50%; @include transform(translate3d(-50%,0,0)); max-width: 750px;
  .rules { padding: 2rem 2rem 2rem 4rem; background-color: #fe1239;
    h3 { text-align: center; color: #fff32f; font-size: 2.6rem; font-weight: bolder; padding-bottom: 2rem;}
    p { position: relative; color: #ffffff; font-size: 1.4rem; line-height: 1.75; margin-bottom: 2.2rem;
      span { position: absolute; left: -2rem; color: #fff32c; font-size: 1.4rem; font-weight: bolder;}
    }
    p:last-child { margin-bottom: 0;}
  }
}

// 弹层样式
.windowMask { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 9; background: transparent; @include transition(background 0.3s);}
.windowMask.show { background: rgba(0,0,0,0.7);}

.alertLayer { width: 100%; height: 100%; position: relative; -webkit-backface-visibility: hidden; backface-visibility: hidden; margin: 0 auto; max-width: 750px;
  .shine { position: absolute; top: 6rem; width: 100%; height: 38.7rem; background: url("img/shine.png") no-repeat center center; background-size: contain;}
  .shine.rotate { @include animation(shine-rotate 8s linear infinite);}
  .leaves { position: absolute; width: 100%; height: 100%;}
  .leaves-inAndroid { position: absolute; width: 100%; height: 100%; display: none;
    .leaf1 { position: absolute; left: 5.6rem; top: 9.4rem; width: 0.9rem; height: 1.1rem; background: url("img/float1.png") no-repeat; background-size: contain;}
    .leaf2 { position: absolute; left: 6.1rem; top: 6.4rem; width: 1.5rem; height: 1.5rem; background: url("img/float2.png") no-repeat; background-size: contain;}
    .leaf3 { position: absolute; right: 10rem; top: 9rem; width: 1.2rem; height: 1rem; background: url("img/float3.png") no-repeat; background-size: contain;}
    .leaf4 { position: absolute; right: 3rem; top: 21.4rem; width: 1.2rem; height: 1.2rem; background: url("img/float4.png") no-repeat; background-size: contain;}
    .leaf5 { position: absolute; right: 0.8rem; top: 22.7rem; width: 1.7rem; height: 1.5rem; background: url("img/float5.png") no-repeat; background-size: contain;}
    .leaf6 { position: absolute; left: 0.7rem; top: 19.8rem; width: 2.5rem; height: 1.4rem; background: url("img/float6.png") no-repeat; background-size: contain;}
    .leaf7 { position: absolute; right: 4.8rem; top: 16rem; width: 1.2rem; height: 0.8rem; background: url("img/float7.png") no-repeat; background-size: contain;}
  }
  .content { position: absolute; top: 10.5rem; left: 50%; margin-left: -16.5rem; width: 32.9rem; height: 27.9rem; background: url("img/alert_title.png") no-repeat center center; background-size: contain; padding: 0 1.5rem; @include box-sizing(border-box);
    .word-top { color: #ffffff; font-size: 2rem; font-weight: bolder; text-align: center; margin-top: 13.6rem;}
    .word-bottom { color: #ffffff; font-size: 1.8rem; font-weight: bolder; text-align: center; padding-top: 1rem;}
    .btn-box { padding-top: 3.5rem; @include mm();
      .btn { display: block; margin-left: 1rem; width: 12.7rem; height: 4.2rem; background: url("img/alert_button.png") no-repeat center center; background-size: contain; color: #ff2929; font-size: 1.8rem; line-height: 4.2rem; text-align: center; font-weight: bolder;}
      .btn:first-child { margin-left: 0;}
    }
  }
  .btn-closeAlert { position: absolute; width: 3.5rem; height: 3.5rem; display: block; top: 10rem; left: 50%; margin-left: 12.7rem; background: url("img/alert_close.png") no-repeat; background-size: contain;}
}
.alertLayer.bounceIn { @include animation(jm-bounceIn 0.3s 0s ease-out both);}
.alertLayer.bounceOut { @include animation(jm-bounceOut 0.3s 0s ease-out both)}

// 元素掉落样式
.jm-dropElement { @include animation(jm-dropElement 3s linear forwards);}
.dropElement1 { width: 0.9rem; height: 1.1rem; background: url("img/float1.png") no-repeat; background-size: contain;}
.dropElement2 { width: 1.5rem; height: 1.5rem; background: url("img/float2.png") no-repeat; background-size: contain;}
.dropElement3 { width: 1.2rem; height: 1rem; background: url("img/float3.png") no-repeat; background-size: contain;}
.dropElement4 { width: 1.2rem; height: 1.2rem; background: url("img/float4.png") no-repeat; background-size: contain;}
.dropElement5 { width: 1.7rem; height: 1.5rem; background: url("img/float5.png") no-repeat; background-size: contain;}
.dropElement6 { width: 2.5rem; height: 1.4rem; background: url("img/float6.png") no-repeat; background-size: contain;}
.dropElement7 { width: 1.2rem; height: 0.8rem; background: url("img/float7.png") no-repeat; background-size: contain;}

