<html>
<head>
  <title>基础篇</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/276742; Windows/6.3.9600 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="438"/>
<h1>基础篇</h1>

<div>
<span><div>参考链接：<a href="http://www.hewebgl.com/article/getarticle/50">http://www.hewebgl.com/article/getarticle/50</a></div><div>①scene、camera、renderer三者之间的关系</div><div><img src="基础篇_files/Image.png" type="image/png" style="cursor: default;"/></div><div><br/></div><div>②初始化scene、camera、renderer对象：</div><div><br/></div><div style="margin: 0px; padding: 0px; list-style: none; border: 0px; border-collapse: collapse; border-spacing: 0px; color: rgb(51, 51, 51); font-size: 14px; font-style: normal; font-variant: normal; font-weight: 100; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); width: 865px;"><div style="margin: 0px; padding: 0px; list-style: none; border: 0px;"><div style="margin: auto !important; padding: 0px 0.4em !important; list-style: none; border: 0px;width:100%;"><span style="font-family: &apos;Bitstream Vera Sans Mono&apos;, Courier, monospace;"><span style="margin: 0px; padding: 0px; list-style: none; border: 0px;"><span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(203, 75, 22);">var</span> scene <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(38, 139, 210);">=</span> <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(203, 75, 22);">new</span> <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(38, 139, 210);">THREE</span>.<span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(51, 51, 255);">Scene</span>(); <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(153, 153, 136); font-style: italic;">// 场景</span></span></span></div></div><div style="margin: 0px; padding: 0px; list-style: none; border: 0px;"><div style="margin: auto !important; padding: 0px 0.4em !important; list-style: none; border: 0px;"><span style="font-family: &apos;Bitstream Vera Sans Mono&apos;, Courier, monospace;"><span style="margin: 0px; padding: 0px; list-style: none; border: 0px;"><span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(203, 75, 22);">var</span> camera <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(38, 139, 210);">=</span> <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(203, 75, 22);">new</span> <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(38, 139, 210);">THREE</span>.<span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(51, 51, 255);">PerspectiveCamera</span>(<span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(0, 153, 153);">75</span>, window.innerWidth<span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(38, 139, 210);">/</span>window.innerHeight, <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(0, 153, 153);">0.1</span>, <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(0, 153, 153);">1000</span>);<span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(153, 153, 136); font-style: italic;">// 透视相机</span></span></span></div></div><div style="margin: 0px; padding: 0px; list-style: none; border: 0px;"><div style="margin: auto !important; padding: 0px 0.4em !important; list-style: none; border: 0px;"><div><span style="font-family: &apos;Bitstream Vera Sans Mono&apos;, Courier, monospace;"><span style="margin: 0px; padding: 0px; list-style: none; border: 0px;"><span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(203, 75, 22);">var</span> renderer <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(38, 139, 210);">=</span> <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(203, 75, 22);">new</span> <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(38, 139, 210);">THREE</span>.<span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(38, 139, 210);">WebGLRenderer</span>(); <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(153, 153, 136); font-style: italic;">// 渲染器</span></span></span></div></div></div><div style="margin: 0px; padding: 0px; list-style: none; border: 0px;"><div style="margin: auto !important; padding: 0px 0.4em !important; list-style: none; border: 0px;"><span style="font-family: &apos;Bitstream Vera Sans Mono&apos;, Courier, monospace;"><span style="margin: 0px; padding: 0px; list-style: none; border: 0px;">renderer.<span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(51, 51, 255);">setSize</span>(window.innerWidth, window.innerHeight); <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(153, 153, 136); font-style: italic;">// 设置渲染器的大小为窗口的内宽度，也就是内容区的宽度</span></span></span></div></div><div style="margin: 0px; padding: 0px; list-style: none; border: 0px;"><div style="margin: auto !important; padding: 0px 0.4em !important; list-style: none; border: 0px;"><div><span style="font-family: &apos;Bitstream Vera Sans Mono&apos;, Courier, monospace;"><span style="margin: 0px; padding: 0px; list-style: none; border: 0px;">document.body.<span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(51, 51, 255);">appendChild</span>(renderer.domElement);</span></span></div><div><span style="font-family: 黑体;">//<span style="color: rgb(50, 135, 18);">注意，渲染器renderer的domElement元素，表示渲染器中的画布，所有的渲染都是画在domElement上的，所以这里的appendChild表示将这个domElement挂接在body下面，这样渲染的结果就能够在页面中显示了。</span></span></div></div></div></div><div><br/></div><div>③添加物体到场景中</div><div><br/></div><div><table style="margin: 0px; padding: 0px; list-style: none; border: 0px; max-width: 100%; border-collapse: collapse; border-spacing: 0px; white-space: pre; color: rgb(51, 51, 51); font-family: &apos;Bitstream Vera Sans Mono&apos;, Courier, monospace; font-size: 14px; font-style: normal; font-variant: normal; font-weight: 100; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);width:700px;"><tr style="margin: 0px; padding: 0px; list-style: none; border: 0px;"><td style="margin: auto !important; padding: 0px 0.4em !important; list-style: none; border: 0px;width:100%;"><span style="margin: 0px; padding: 0px; list-style: none; border: 0px;"><span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(203, 75, 22);">var</span> geometry <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(38, 139, 210);">=</span> <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(203, 75, 22);">new</span> <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(38, 139, 210);">THREE</span>.<span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(51, 51, 255);">CubeGeometry</span>(<span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(0, 153, 153);">1</span>,<span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(0, 153, 153);">1</span>,<span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(0, 153, 153);">1</span>);</span></td></tr><tr style="margin: 0px; padding: 0px; list-style: none; border: 0px;"><td style="margin: auto !important; padding: 0px 0.4em !important; list-style: none; border: 0px;"><span style="margin: 0px; padding: 0px; list-style: none; border: 0px;"><span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(203, 75, 22);">var</span> material <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(38, 139, 210);">=</span> <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(203, 75, 22);">new</span> <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(38, 139, 210);">THREE</span>.<span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(38, 139, 210);">MeshBasicMaterial</span>({color: <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(0, 153, 153);">0x00ff00</span>});</span></td></tr><tr style="margin: 0px; padding: 0px; list-style: none; border: 0px;"><td style="margin: auto !important; padding: 0px 0.4em !important; list-style: none; border: 0px;"><span style="margin: 0px; padding: 0px; list-style: none; border: 0px;"><span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(203, 75, 22);">var</span> cube <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(38, 139, 210);">=</span> <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(203, 75, 22);">new</span> <span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(38, 139, 210);">THREE</span>.<span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(38, 139, 210);">Mesh</span>(geometry, material);</span></td></tr><tr style="margin: 0px; padding: 0px; list-style: none; border: 0px;"><td style="margin: auto !important; padding: 0px 0.4em !important; list-style: none; border: 0px;"><span style="margin: 0px; padding: 0px; list-style: none; border: 0px;">scene.<span style="margin: 0px; padding: 0px; list-style: none; border: 0px; color: rgb(51, 51, 255);">add</span>(cube);</span></td></tr></table></div><div><span style="font-family: 黑体;"><span style="color: rgb(50, 135, 18);">//其中，<span style="margin: 0px; padding: 0px; list-style: none; border: 0px;"><span style="margin: 0px; padding: 0px; list-style: none; border: 0px;">THREE</span>.<span style="margin: 0px; padding: 0px; list-style: none; border: 0px;">CubeGeometry是几何体的定义，具体原型为：</span></span></span></span></div><div style="margin: 0px !important; padding: 0px 0.4em !important; list-style: none; border: 1px solid rgb(170, 170, 170); font-family: &apos;Bitstream Vera Sans Mono&apos;, Courier, monospace; font-size: 13px; color: rgb(51, 51, 51); border-radius: 4px; display: block; overflow: auto; font-style: normal; font-variant: normal; font-weight: 100; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; height: 54px; background-color: rgb(240, 240, 240);"><div><br/></div><div>CubeGeometry(width, height, depth, segmentsWidth, segmentsHeight, segmentsDepth, materials, sides)</div></div><div><span style="font-family: 黑体;"><span style="color: rgb(50, 135, 18);">width：立方体x轴的长度</span></span></div><div><span style="font-family: 黑体;"><span style="color: rgb(50, 135, 18);">height：立方体y轴的长度</span></span></div><div><span style="font-family: 黑体;"><span style="color: rgb(50, 135, 18);">depth：立方体z轴的深度，也就是长度</span></span></div><div><span style="font-family: &apos;Bitstream Vera Sans Mono&apos;, Courier, monospace;"><span style="color: rgb(50, 135, 18);"><br/></span></span></div><div>④渲染</div><div>1、渲染：渲染应该使用渲染器，结合相机和场景来得到结果画面。实现这个功能的函数是<span style="font-size: 15px;"><span style="font-family: Arial;"><span style="color: rgb(20, 113, 145);"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"> renderer.render(scene, camera);</span></span></span></span>该方法原型是：</div><div><br/></div><div style="margin: 0px !important; padding: 0px 0.4em !important; list-style: none; border: 1px solid rgb(170, 170, 170); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; display: block; overflow: auto; font-style: normal; font-variant: normal; font-weight: 100; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; height: 54px; background-color: rgb(240, 240, 240);"><div><span style="font-family: &apos;Bitstream Vera Sans Mono&apos;, Courier, monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></div><div><span style="font-family: &apos;Bitstream Vera Sans Mono&apos;, Courier, monospace;"><span style="color: rgb(51, 51, 51);">render( scene, camera, renderTarget, forceClear )</span></span></div></div><div><span style="font-family: 黑体;"><span style="color: rgb(50, 135, 18);">scene：前面定义的场景</span></span></div><div><span style="font-family: 黑体;"><span style="color: rgb(50, 135, 18);">camera：前面定义的相机</span></span></div><div><span style="font-family: 黑体;"><span style="color: rgb(50, 135, 18);">renderTarget：渲染的目标，默认是渲染到前面定义的render变量中</span></span></div><div><span style="font-family: 黑体;"><span style="color: rgb(50, 135, 18);">forceClear：每次绘制之前都将画布的内容给清除，即使自动清除标志autoClear为false，也会清除。</span></span></div><div><span style="font-size: 15px;"><span style="font-family: Arial;"><span style="color: rgb(20, 113, 145);"><br/></span></span></span></div><div>2、渲染循环：</div><div><br/></div><div style="margin: 0px; padding: 0px; list-style: none; border: 0px; position: relative; color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 14px; font-style: normal; font-variant: normal; font-weight: 100; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div style="margin: 0px !important; padding: 0px 0.4em !important; list-style: none; border: 1px solid rgb(170, 170, 170); font-family: &apos;Bitstream Vera Sans Mono&apos;, Courier, monospace; font-size: 13px; color: rgb(51, 51, 51); border-radius: 4px; display: block; overflow: auto; height: 142px; background-color: rgb(240, 240, 240);"><div>//基于1，加上循环渲染函数requestAnimationFrame（）</div><div>function render() {</div>
        cube.rotation.x += 0.1;<br/>
        cube.rotation.y += 0.1;
<div>        renderer.render(scene, camera);</div><div>        requestAnimationFrame(render);//requestAnimationFrame（functionName）实现实时刷新渲染scene</div><div>}</div></div></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: &apos;Bitstream Vera Sans Mono&apos;, Courier, monospace;"><br/></span></span></div></span>
</div></body></html> 